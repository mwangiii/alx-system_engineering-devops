#!/usr/bin/env bash
# Configures Nginx to redirect /redirect_me to another page with a "301 Moved Permanently" status

# Update package lists
sudo apt update

# Install Nginx
sudo apt install -y nginx

# Create a custom HTML page for redirection
sudo tee /var/www/html/redirect_me.html > /dev/null <<EOT
<html>
<head>
<meta http-equiv="refresh" content="0; url=https://www.example.com/new_page" />
</head>
<body></body>
</html>
EOT

# Configure Nginx to redirect /redirect_me
sudo sed -i 's|location / {|location / {\n    return 301 https://www.example.com/new_page;|' /etc/nginx/sites-available/default

# Restart Nginx to apply the changes
sudo service nginx restart
